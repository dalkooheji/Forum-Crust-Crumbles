<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="/static/css/posts.css">
    <link rel="stylesheet" href="/static/css/header.css">
    <script type = "text/javascript" src="/static/js/posts.js"></script>     
    <title>Posts</title>
</head>

<body>
        <div class="banner">
            <div class="navbar">
                <!-- title -->
                <h1><a href="/home">CRUST & CRUMBLES</a></h1>
                <!-- menu -->
                <!-- includes links to other pages -->
                <ul>
                    <li><a href="/">Home</a></li>
                    <li><a href="/posts">posts</a></li>
                    <li>
                        <div class="user-profile">
                            <a href="/profile">
                                <img src="https://digitalhealthskills.com/wp-content/uploads/2022/11/3da39-no-user-image-icon-27.png"
                                    alt="User Profile">
                            </a>
                        </div>
                    </li>
                </ul>
            </div>
        </div>

    <div class="container">
        <div class="main-content">
            <!-- add filters -->
            <!-- <div class="sidebar-container">
            <h3>Categories</h3>
            <ul>
                <li>Main</li>
                <li>Desserts</li>
                <li>Drinks</li>
                <li>Appitizers</li>
                <li>Simple</li>
                <li>Advanced</li>
                <li>..</li>
            </ul>
            <h3></h3>
        </div> -->

            <div class="sidebar-container">
                <p style="font-weight: bold;">Categories</p>
                <a href="javascript:void(0)" onclick="filterByCategory('Simple')">
                    <i class="fa-solid fa-spinner" aria-hidden="true"></i>
                    Simple
                </a>
                <a href="javascript:void(0)" onclick="filterByCategory('Advanced')">
                    <i class="fa-solid fa-vial" aria-hidden="true"></i>
                    Advanced
                </a>
                <a href="javascript:void(0)" onclick="filterByCategory('Appetizers')">
                    <i class="fa-solid fa-apple-whole" aria-hidden="true"></i>
                    Appetizers
                </a>
                <a href="javascript:void(0)" onclick="filterByCategory('Main')">
                    <i class="fa-solid fa-drumstick-bite" aria-hidden="true"></i>
                    Main
                </a>
                <a href="javascript:void(0)" onclick="filterByCategory('Desserts')">
                    <i class="fa-solid fa-ice-cream" aria-hidden="true"></i>
                    Desserts
                </a>
                <a href="javascript:void(0)" onclick="filterByCategory('Drinks')">
                    <i class="fa-solid fa-mug-saucer" aria-hidden="true"></i>
                    Drinks
                </a>
            </div>

            <div class="posts-container">
                {{range .}}
                <!-- Example Post Box -->
                <div class="post-box">
                    <a href="/posts/{{.PostID}}" class="post-link" style=" text-decoration:none;  color:inherit;";>
                        <div class="post-box-header">
                            <div class="username">{{.Username}}</div>
                            <div class="categories">{{.Categories}}</div>
                            <div class="date">{{.CreatedAt.Format "Jan 2, 2006 3:04 PM"}}</div>
                            <div class="menu-dots">•••</div>
                        </div>
                        <div class="post-box-content">
                            <h3>{{.Title}}</h3>
                            <p>{{.Content}}</p>
                        </div>
                    </a>
                        <div class="post-box-footer">
                            <span class="like-icon" onclick="toggleLike('{{.PostID}}', '{{.Logged}}')" id="like-icon-{{.PostID}}">
                                <i class="fas fa-thumbs-up"></i> <span id="like-count-{{.PostID}}">{{.LikeCount}}</span>
                            </span>

                            <span class="dislike-icon" onclick="toggleDislike('{{.PostID}}', '{{.Logged}}')" id="dislike-icon-{{.PostID}}">
                                <i class="fas fa-thumbs-down"></i> <span id="dislike-count-{{.PostID}}">{{.DislikeCount}}</span>
                            </span>
                            <a href="/posts/{{.PostID}}#comment-form" class="comment-link">
                            <span class="comment-icon">
                                <i class="fas fa-comment"></i> <span id="comments-count-{{.PostID}}">{{.CommentsCount}}</span>
                            </span>
                            </a>
                        </div>
                   

                </div>
                {{end}}
            </div>
        </div>

        <!-- Plus button for creating new posts -->
        <div class="button-container">
            <button type="button" class="Btn" onclick="window.location.href='/createPost';">
                <span class="sign">
                    <img src="https://cdn2.iconfinder.com/data/icons/lucid-generic/24/new_artboard_file_create_post-512.png"
                        width="30px" height="30px">
                </span>
                <span class="text">Create a Post</span>
            </button>
        </div>
    </div>
</body>

</html>